@startuml YTL_Technology_Stack
title YTL Cement - Technology Stack & Infrastructure (To-Be)
skinparam backgroundColor #F5F5F5

rectangle "APPLICATION LAYER" as app_layer #E6F3FF {
  rectangle "S/4HANA 2025" as s4 #99CCFF {
    component [Financial\nModule] as s4_fin
    component [Procurement\nModule] as s4_proc
    component [Production\nModule] as s4_prod
    component [Sales\nModule] as s4_sales
    component [Plant\nMaintenance] as s4_pm
  }

  rectangle "MVP Modules" as mvp_stack #CCFFCC {
    component [Invoice\nMatching] as mvp_inv
    component [GL Anomaly\nDetector] as mvp_gl
    component [Vendor\nQuality] as mvp_vendor
    component [SoD\nAnalyzer] as mvp_sod
    component [e-Invoice\nModule] as mvp_einv
  }
}

rectangle "INTEGRATION & MIDDLEWARE LAYER" as integration #FFFFCC {
  component [SAP PI/XI\nMiddleware] as pi_xi
  component [API Gateway\n(REST/GraphQL)] as api_gw
  component [Message Queue\n(Apache Kafka)] as kafka
  component [Event Bus\n(Real-time events)] as event_bus
}

rectangle "DATA LAYER" as data_layer #FFCCCC {
  component [SAP HANA DB\n(Transactional)] as hana
  component [Data Warehouse\n(Hadoop/Spark)] as dw
  component [Cache Layer\n(Redis)] as cache
  component [Document Store\n(MongoDB)] as doc_store
}

rectangle "ANALYTICS & INSIGHTS LAYER" as analytics #E6E6FF {
  component [BI Tools\n(Looker/Tableau)] as bi
  component [Data Mining\n(ML Models)] as ml
  component [Real-Time\nDashboards] as dashboard
}

rectangle "INFRASTRUCTURE LAYER" as infra #CCFFFF {
  rectangle "Compute" as compute {
    component [S/4HANA\nServer Cluster] as s4_cluster
    component [MVP Modules\nContainers] as mvp_containers
    component [Integration\nServers] as int_servers
  }

  rectangle "Storage" as storage {
    component [HANA\nPrimary] as hana_primary
    component [HANA\nSecondary (DR)] as hana_dr
    component [Archive\nStorage] as archive
  }

  rectangle "Networking" as networking {
    component [Load\nBalancer] as lb
    component [Firewall &\nSecurity] as fw
    component [VPN &\nEncryption] as vpn
  }
}

rectangle "DEPLOYMENT" as deployment #FFE6E6 {
  component [Location 1:\nMenara YTL\n(KL HQ)] as loc1
  component [Location 2:\nPahang Cement\n(Bukit Sagu)] as loc2
  component [DR Site\n(Secondary)] as dr_site

}

note bottom of app_layer
  **S/4HANA 2025 + MVP Modules**
  - Cloud-ready architecture
  - Containerized MVP modules
  - RESTful APIs for integrations
end note

note bottom of integration
  **Real-Time Integration**
  - SAP PI/XI for legacy integrations
  - API Gateway for modern APIs
  - Kafka for event streaming
  - <10 minute SLA for most processes
end note

note bottom of data_layer
  **Data Strategy**
  - HANA for operational data (OLTP)
  - DW for analytics (OLAP)
  - Redis for caching (performance)
  - MongoDB for unstructured data (logs, documents)
end note

note bottom of infra
  **Infrastructure Specs (from RFP):**
  - 28K invoices/month -> Medium compute
  - 39K sales order items/month -> Medium storage
  - 46K GL postings/month -> Medium performance
  - RPO: 1 hour | RTO: 4 hours
end note

note bottom of deployment
  **Multi-Location Setup:**
  - Menara YTL: Primary (HQ Finance)
  - Pahang Cement: Primary (Plant Operations)
  - DR Site: Automatic failover capability
end note

@enduml
