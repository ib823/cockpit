# ============================================================
# SAP IMPLEMENTATION COCKPIT - ENVIRONMENT VARIABLES
# ============================================================
# Copy this file to .env.local and fill in your values
# Never commit .env.local to git (already in .gitignore)

# ============================================================
# DATABASE (Required)
# ============================================================
# PostgreSQL connection string
DATABASE_URL=postgresql://user:password@localhost:5432/cockpit

# Unpooled connection for long-running queries (Prisma)
DATABASE_URL_UNPOOLED=postgresql://user:password@localhost:5432/cockpit?connection_limit=1

# ============================================================
# NEXTAUTH (Required)
# ============================================================
# Secret for signing JWTs (min 32 chars)
# Generate: openssl rand -base64 32
NEXTAUTH_SECRET=your-nextauth-secret-min-32-chars-CHANGE-ME

# Full URL of your app (no trailing slash)
NEXTAUTH_URL=http://localhost:3000

# ============================================================
# ADMIN BOOTSTRAP (Optional)
# ============================================================
# For initial admin login via credentials provider
# Generate password hash: node -e "console.log(require('bcryptjs').hashSync('YourPassword', 10))"
ADMIN_EMAIL=admin@example.com
ADMIN_PASSWORD_HASH=$2a$10$WzM4qgJf1mQ4QpR2QW2Ndu6g1e9Ck4qfHqQF7mS5YxYpQ3mYjN7u2

# ============================================================
# WEBAUTHN (Passkeys)
# ============================================================
# Relying Party ID: domain without protocol
# Dev: "localhost" | Prod: "app.example.com"
WEBAUTHN_RP_ID=localhost

# Relying Party Origin: full URL with protocol
WEBAUTHN_ORIGIN=http://localhost:3000

# ============================================================
# REDIS (Optional - for distributed challenge storage)
# ============================================================
# If not provided, falls back to in-memory storage (dev only)
UPSTASH_REDIS_REST_URL=https://your-redis.upstash.io
UPSTASH_REDIS_REST_TOKEN=your-token-here

# ============================================================
# EMAIL (Optional - for magic links or notifications)
# ============================================================
# Resend API for transactional emails
RESEND_API_KEY=re_your_api_key_here
EMAIL_FROM=noreply@yourdomain.com

# ============================================================
# MONITORING (Optional)
# ============================================================
# Sentry for error tracking
SENTRY_DSN=https://...ingest.sentry.io/...

# PostHog for product analytics
NEXT_PUBLIC_POSTHOG_KEY=phc_your_key_here
NEXT_PUBLIC_POSTHOG_HOST=https://us.i.posthog.com

# ============================================================
# FEATURE FLAGS (Optional)
# ============================================================
ENABLE_PASSKEYS=true
ENABLE_MAGIC_LINKS=true

# ============================================================
# NODE ENVIRONMENT
# ============================================================
# Auto-detected by Next.js, set explicitly if needed
NODE_ENV=development
